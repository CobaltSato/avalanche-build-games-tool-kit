# Avalanche Game Starter Kit

Avalanche ネットワークでゲームや dApp を開発するための、**Next.js** スターターキットです。
ウォレット接続やスマートコントラクトとのやり取りといった複雑な部分を簡単に使えるようにまとめているので、ゲームのロジックや UI の開発に集中できます。

**Next.jsとは？** Next.jsは、Webアプリケーションを作るためのフレームワークです。ページの作成やルーティング（URLとページの対応付け）などの機能が最初から組み込まれており、本格的なWebアプリケーションを効率的に開発できます。

このスターターキットでは、Next.js 14の**App Router**という新しいルーティングシステムを使用しています。

## このスターターキットについて

このスターターキットは、Avalanche ブロックチェーン上で動作するゲームやアプリを作るための土台です。
以下のような機能が最初から使えるようになっています：

- **ウォレット接続**: MetaMask などのウォレットを簡単に接続できます
- **スマートコントラクト連携**: コントラクトの呼び出しやトランザクション送信が簡単にできます
- **状態管理**: ウォレットの接続状態やトランザクションの状態を自動で管理します

## プロジェクトの構成

このプロジェクトは、以下のような構造になっています：

```
.
├── app/                            # Next.js のアプリケーション部分（App Router）
│   ├── layout.tsx                  #   全体のレイアウト（ウォレット接続の設定）
│   ├── page.tsx                    #   ホームページ
│   └── globals.css                 #   スタイル設定
├── packages/
│   └── avalanche-wallet/           # ウォレット関連の機能をまとめたパッケージ
│       ├── WalletProvider.tsx      #   ウォレットの状態を管理するコンポーネント
│       ├── useWallet.ts            #   ウォレットを使うためのフック
│       └── types.ts                #   型定義
├── next.config.mjs                 # Next.js の設定ファイル
├── tsconfig.json                   # TypeScript の設定ファイル
├── package.json                    # 依存パッケージとスクリプト
└── .env.local.example              # 環境変数のテンプレート
```
## アーキテクチャ

このプロジェクトは、レイヤードアーキテクチャを採用しています。Application Layer は Wallet Package にのみ依存し、外部ライブラリ（ethers など）への直接依存を避ける設計になっています。

```
┌──────────────────────────────────────────────────┐
│  Application Layer (app/)                        │
│  - layout.tsx                                    │
│  - page.tsx                                      │
└────────────────────┬─────────────────────────────┘
                     │ 依存
                     ▼
┌──────────────────────────────────────────────────┐
│  Wallet Package                                  │
│  (packages/avalanche-wallet/)                    │
│                                                  │
│  ┌────────────────────────────────────────────┐ │
│  │ WalletService                             │ │
│  │  ┌──────────────────────────────────────┐ │ │
│  │  │ WalletAdapter (interface)            │ │ │
│  │  └──────────────────────────────────────┘ │ │
│  │              ▲                            │ │
│  │              │ 依存（DI）                   │ │
│  └──────────────┼────────────────────────────┘ │
│                 │                               │
│  ┌──────────────▼────────────────────────────┐ │
│  │ MetaMaskAdapter                            │ │
│  │ (implements WalletAdapter)                │ │
│  │ EIP-1193準拠ウォレットをサポート            │ │
│  │ (MetaMask, Core Wallet など)               │ │
│  └───────────────────────────────────────────┘ │
│                                                  │
│  WalletProvider.tsx                             │
│  useWallet.ts                                    │
└────────────────────┬─────────────────────────────┘
                     │ 依存
                     ▼
┌──────────────────────────────────────────────────┐
│  External Dependencies                           │
│  - ethers ^6                                      │
│  - react ^18                                      │
│  - next 14                                        │
└──────────────────────────────────────────────────┘
```
